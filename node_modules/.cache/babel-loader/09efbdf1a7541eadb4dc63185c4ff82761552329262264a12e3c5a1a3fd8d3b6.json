{"ast":null,"code":"var _jsxFileName = \"C:\\\\Project\\\\TourismUsingBlockchain\\\\Tours_and_Travels-master\\\\src\\\\Pages\\\\AdminDashboard\\\\TourPackages.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { collection, addDoc } from 'firebase/firestore';\nimport { db, storage } from '../firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TourPackages = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    packageName: '',\n    itineraryDetails: '',\n    price: '',\n    startDate: '',\n    endDate: '',\n    duration: '',\n    accommodation: '',\n    description: '',\n    itineraryDayWise: '',\n    image: null,\n    imageURL: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [submitting, setSubmitting] = useState(false);\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      files\n    } = e.target;\n    if (files) {\n      setFormData(prevFormData => ({\n        ...prevFormData,\n        [name]: files[0]\n      }));\n    } else {\n      setFormData(prevFormData => ({\n        ...prevFormData,\n        [name]: value\n      }));\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (validateForm()) {\n      try {\n        setSubmitting(true);\n        const docRef = await addDoc(collection(db, 'tourPackages'), {\n          ...formData,\n          paymentDetails: {\n            amount: formData.price\n          }\n        });\n        console.log('Form data stored successfully with ID: ', docRef.id);\n        setFormData({\n          packageName: '',\n          itineraryDetails: '',\n          price: '',\n          startDate: '',\n          endDate: '',\n          duration: '',\n          accommodation: '',\n          description: '',\n          itineraryDayWise: '',\n          image: null,\n          imageURL: ''\n        });\n      } catch (error) {\n        console.error('Error storing form data: ', error);\n      } finally {\n        setSubmitting(false);\n      }\n    }\n  };\n  const validateForm = () => {\n    let isValid = true;\n    let newErrors = {};\n    if (!formData.packageName.trim()) {\n      newErrors.packageName = 'Package Name is required';\n      isValid = false;\n    }\n\n    // Add more validations as needed\n\n    setErrors(newErrors);\n    return isValid;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border border-gray-300 rounded p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [submitting && !Object.keys(errors).length && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-500 mb-4\",\n          children: \"Failed to submit the form. Please check the fields and try again.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block mb-1\",\n            htmlFor: \"packageName\",\n            children: \"Package Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"packageName\",\n            name: \"packageName\",\n            value: formData.packageName,\n            onChange: handleChange,\n            className: \"w-full border rounded px-3 py-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), errors.packageName && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-500\",\n            children: errors.packageName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 36\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"bg-blue-500 text-white px-4 py-2 rounded\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n};\n_s(TourPackages, \"SEp7uazxJJMwtYYR4gjhc8zL5JA=\");\n_c = TourPackages;\nexport default TourPackages;\nvar _c;\n$RefreshReg$(_c, \"TourPackages\");","map":{"version":3,"names":["React","useState","collection","addDoc","db","storage","jsxDEV","_jsxDEV","TourPackages","_s","formData","setFormData","packageName","itineraryDetails","price","startDate","endDate","duration","accommodation","description","itineraryDayWise","image","imageURL","errors","setErrors","submitting","setSubmitting","handleChange","e","name","value","files","target","prevFormData","handleSubmit","preventDefault","validateForm","docRef","paymentDetails","amount","console","log","id","error","isValid","newErrors","trim","className","children","onSubmit","Object","keys","length","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","onChange","_c","$RefreshReg$"],"sources":["C:/Project/TourismUsingBlockchain/Tours_and_Travels-master/src/Pages/AdminDashboard/TourPackages.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { collection, addDoc } from 'firebase/firestore'; \nimport { db, storage } from '../firebase'; \n\nconst TourPackages = () => {\n  const [formData, setFormData] = useState({\n    packageName: '',\n    itineraryDetails: '',\n    price: '',\n    startDate: '',\n    endDate: '',\n    duration: '',\n    accommodation: '',\n    description: '',\n    itineraryDayWise: '', \n    image: null, \n    imageURL: '' \n  });\n\n  const [errors, setErrors] = useState({});\n  const [submitting, setSubmitting] = useState(false);\n\n  const handleChange = (e) => {\n    const { name, value, files } = e.target;\n    if (files) {\n      setFormData((prevFormData) => ({\n        ...prevFormData,\n        [name]: files[0], \n      }));\n    } else {\n      setFormData((prevFormData) => ({\n        ...prevFormData,\n        [name]: value,\n      }));\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (validateForm()) {\n      try {\n        setSubmitting(true);\n        const docRef = await addDoc(collection(db, 'tourPackages'), {\n          ...formData, \n          paymentDetails: { \n            amount: formData.price,\n          }\n        });\n        console.log('Form data stored successfully with ID: ', docRef.id);\n        setFormData({\n          packageName: '',\n          itineraryDetails: '',\n          price: '',\n          startDate: '',\n          endDate: '',\n          duration: '',\n          accommodation: '',\n          description: '',\n          itineraryDayWise: '', \n          image: null,\n          imageURL: ''\n        });\n      } catch (error) {\n        console.error('Error storing form data: ', error);\n      } finally {\n        setSubmitting(false);\n      }\n    }\n  };\n\n  const validateForm = () => {\n    let isValid = true;\n    let newErrors = {};\n\n    if (!formData.packageName.trim()) {\n      newErrors.packageName = 'Package Name is required';\n      isValid = false;\n    }\n\n    // Add more validations as needed\n\n    setErrors(newErrors);\n    return isValid;\n  };\n\n  return (\n    <div className=\"container mx-auto\">\n      <div className=\"border border-gray-300 rounded p-6\">\n        <form onSubmit={handleSubmit}>\n          {/* Display form-wide errors */}\n          {submitting && !Object.keys(errors).length && (\n            <p className=\"text-red-500 mb-4\">Failed to submit the form. Please check the fields and try again.</p>\n          )}\n\n          {/* Individual input fields */}\n          <div className=\"mb-4\">\n            <label className=\"block mb-1\" htmlFor=\"packageName\">Package Name</label>\n            <input\n              type=\"text\"\n              id=\"packageName\"\n              name=\"packageName\"\n              value={formData.packageName}\n              onChange={handleChange}\n              className=\"w-full border rounded px-3 py-2\"\n            />\n            {errors.packageName && <p className=\"text-red-500\">{errors.packageName}</p>}\n          </div>\n\n          {/* Include other input fields similarly */}\n\n          <button type=\"submit\" className=\"bg-blue-500 text-white px-4 py-2 rounded\">Submit</button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default TourPackages;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}